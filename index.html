<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto 2ndo Parcial</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="shadow">
        <div class="container-logo">
            <img src="gato.jpg" alt="Un logo de la pagina"> 
        </div>
        <div>
            <button id="dark-mode">Dark Mode</button>
        </div>
    </header>

    <section class="container-title">
        <h1>Perros</h1>
    </section>

    <section class="paisaje" id="paisaje-container">
    </section>

    <button id="load-more">Cargar m√°s perros</button>
   
    <script>
        function renderLoader (){
            const container = document.getElementById('paisaje-container');
            const loader = document.createElement('div');
            loader.setAttribute('id', 'loader');
            loader.innerHTML = 'Cargando...';
            container.appendChild(loader);
        }

        function removeLoader(){
            const loader = document.getElementById('loader');
            if(loader) loader.remove();
        }

        let page = 1;

        async function get_perros() {
            const url = `https://api.thedogapi.com/v1/images/search?limit=8&page=${page}`;
            renderLoader();
            const response = await fetch(url);
            const data = await response.json();
            const container = document.getElementById("paisaje-container");

            data.forEach(element => {
                const container_perro = document.createElement("div");
                container_perro.classList.add("paisaje-element");
                const img = document.createElement("img");
                img.src = element.url;
                container_perro.appendChild(img);
                container.appendChild(container_perro);
            });

            removeLoader();
            page++;
        }

      get_perros();

        const btn = document.getElementById("load-more")
        function loadMore(){
            get_perros(); 
        }
        btn.addEventListener("click", loadMore )

        const btnDarkMode = document.getElementById("dark-mode")
        function toggleDarkMode(){
            document.body.classList.toggle("dark-mode");
            if (document.body.classList.contains("dark-mode")){
                btnDarkMode.textContent= "White Mode";
            } else {
                btnDarkMode.textContent= "Dark Mode";
            }
        }
        btnDarkMode.addEventListener("click", toggleDarkMode)
    </script>
<div class="dog-container">
    <img src="ANI.gif" alt="Perro animado">
</div>

</body>
</html>